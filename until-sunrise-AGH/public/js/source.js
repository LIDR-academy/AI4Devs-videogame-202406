const a0_0x246afe=a0_0x2477;(function(_0x3b906c,_0x22928f){const _0x49fa64=a0_0x2477,_0x1e809a=_0x3b906c();while(!![]){try{const _0x3e36fc=-parseInt(_0x49fa64(0x1a9))/0x1*(parseInt(_0x49fa64(0x179))/0x2)+-parseInt(_0x49fa64(0x1e3))/0x3*(-parseInt(_0x49fa64(0x18d))/0x4)+-parseInt(_0x49fa64(0x17e))/0x5+-parseInt(_0x49fa64(0x18e))/0x6+-parseInt(_0x49fa64(0x1b1))/0x7+-parseInt(_0x49fa64(0x1b9))/0x8*(-parseInt(_0x49fa64(0x1c6))/0x9)+parseInt(_0x49fa64(0x175))/0xa;if(_0x3e36fc===_0x22928f)break;else _0x1e809a['push'](_0x1e809a['shift']());}catch(_0x13df1e){_0x1e809a['push'](_0x1e809a['shift']());}}}(a0_0x3da7,0x9207f));const canvas=document['getElementById'](a0_0x246afe(0x1a5)),ctx=canvas[a0_0x246afe(0x196)]('2d');canvas[a0_0x246afe(0x1b3)]=0x320,canvas['height']=0x258;let player,enemies=[],gameTime=0x0,score=0x0,level=0x1,gameStarted=![],lastTime=0x0,playerName='',aerialEnemies=[],aerialEnemyInterval=0xbb8,lastAerialEnemyTime=0x0,backgroundStage=0x0;const POINTS_PER_STAGE=0x32,MAX_SCORE=0xfa;let messageQueue=[],currentMessage=null,messageTimer=0x0;const MESSAGE_DURATION=0xbb8;class Player{constructor(_0x2c4950,_0x3b2100,_0x50b4df){const _0x22bde1=a0_0x246afe;this['x']=_0x2c4950,this['y']=_0x3b2100,this[_0x22bde1(0x1b3)]=0x32,this[_0x22bde1(0x1ea)]=0x32,this[_0x22bde1(0x17b)]=0x5,this['jumpForce']=0xf,this[_0x22bde1(0x1b4)]=0.6,this[_0x22bde1(0x1e4)]=0x0,this[_0x22bde1(0x1eb)]=0x0,this['jumping']=![],this[_0x22bde1(0x200)]=![],this[_0x22bde1(0x1ce)]=0x0,this[_0x22bde1(0x207)]=0x2,this[_0x22bde1(0x17d)]=!![],this[_0x22bde1(0x202)]=_0x50b4df,this['sprites']={'idle':new Image(),'run':new Image(),'jump':new Image(),'attack':new Image()},this[_0x22bde1(0x1da)]=_0x22bde1(0x1db),this[_0x22bde1(0x1be)]=0x0,this['frameY']=0x0,this[_0x22bde1(0x1c1)]=0x8,this[_0x22bde1(0x19f)]=0xf,this['frameInterval']=0x3e8/this[_0x22bde1(0x19f)],this['frameTimer']=0x0,this[_0x22bde1(0x1e5)](),this['projectiles']=[],this[_0x22bde1(0x1aa)]=0x0,this[_0x22bde1(0x17a)]=0x1f4;}[a0_0x246afe(0x1e5)](){const _0x14487a=a0_0x246afe;for(let _0x19e9bb in this[_0x14487a(0x206)]){this['sprites'][_0x19e9bb][_0x14487a(0x1f8)]=_0x14487a(0x1ab)+_0x19e9bb+_0x14487a(0x19a);}}[a0_0x246afe(0x1e6)](){const _0x49afba=a0_0x246afe;ctx[_0x49afba(0x1bd)](this[_0x49afba(0x206)][this[_0x49afba(0x1da)]],this[_0x49afba(0x1be)]*this[_0x49afba(0x1b3)],0x0,this['width'],this[_0x49afba(0x1ea)],this['x'],this['y'],this[_0x49afba(0x1b3)],this[_0x49afba(0x1ea)]);}[a0_0x246afe(0x173)](_0x560f9a){const _0x1a3a00=a0_0x246afe;this['x']+=this['velocityX'],this[_0x1a3a00(0x1e4)]+=this['gravity'],this['y']+=this['velocityY'];this['y']>canvas[_0x1a3a00(0x1ea)]-this['height']&&(this['y']=canvas[_0x1a3a00(0x1ea)]-this[_0x1a3a00(0x1ea)],this[_0x1a3a00(0x1e4)]=0x0,this[_0x1a3a00(0x1ce)]=0x0);this[_0x1a3a00(0x1e4)]=Math[_0x1a3a00(0x1a8)](this['velocityY'],0xa),this[_0x1a3a00(0x1f2)]+=_0x560f9a;this[_0x1a3a00(0x1f2)]>this[_0x1a3a00(0x1ed)]&&(this['frameX']=(this[_0x1a3a00(0x1be)]+0x1)%this[_0x1a3a00(0x1c1)],this['frameTimer']=0x0);this['x']=Math['max'](0x0,Math[_0x1a3a00(0x1a8)](this['x'],canvas[_0x1a3a00(0x1b3)]-this[_0x1a3a00(0x1b3)]));if(this[_0x1a3a00(0x1ce)]>0x0)this['currentSprite']=_0x1a3a00(0x1ad);else Math['abs'](this[_0x1a3a00(0x1eb)])>0x0?this[_0x1a3a00(0x1da)]=_0x1a3a00(0x1fe):this[_0x1a3a00(0x1da)]='idle';}['moveLeft'](){const _0x517af6=a0_0x246afe;this['velocityX']=-this[_0x517af6(0x17b)],this[_0x517af6(0x17d)]=!![],this['direction']=-0x1;}[a0_0x246afe(0x19e)](){const _0xa4d848=a0_0x246afe;this['velocityX']=this['speed'],this['facingRight']=![],this[_0xa4d848(0x1cb)]=0x1;}[a0_0x246afe(0x1a4)](){const _0x49f80b=a0_0x246afe;this[_0x49f80b(0x1eb)]=0x0;}[a0_0x246afe(0x1ad)](){const _0x42a5ec=a0_0x246afe;this[_0x42a5ec(0x1ce)]<this[_0x42a5ec(0x207)]&&(this[_0x42a5ec(0x1e4)]=-this[_0x42a5ec(0x191)],this[_0x42a5ec(0x1ce)]++,this['currentSprite']=_0x42a5ec(0x1ad));}[a0_0x246afe(0x1e8)](){const _0x421ec7=a0_0x246afe;this[_0x421ec7(0x200)]=!![],setTimeout(()=>this[_0x421ec7(0x200)]=![],0x12c);}[a0_0x246afe(0x204)](){const _0x1662e3=a0_0x246afe,_0x724177=Date['now']();if(_0x724177-this[_0x1662e3(0x1aa)]>this[_0x1662e3(0x17a)]){const _0x2c939e=this[_0x1662e3(0x17d)]?this['x']+this[_0x1662e3(0x1b3)]:this['x'],_0x163b54=this['y']+this[_0x1662e3(0x1ea)]/0x2,_0x16ec45=0xf,_0x722466=this[_0x1662e3(0x17d)]?0x1:-0x1;this[_0x1662e3(0x1cf)]['push'](new Projectile(_0x2c939e,_0x163b54,_0x16ec45,_0x722466)),this[_0x1662e3(0x1aa)]=_0x724177;if(this[_0x1662e3(0x202)]&&this[_0x1662e3(0x202)][_0x1662e3(0x19c)]){const _0x333955=this[_0x1662e3(0x202)][_0x1662e3(0x19c)];_0x333955[_0x1662e3(0x1a2)]=_0x1662e3(0x1ef),_0x333955[_0x1662e3(0x1b8)](),_0x333955[_0x1662e3(0x1af)](_0x2c939e,_0x163b54,0xa,0x0,Math['PI']*0x2),_0x333955['fill']();}}}[a0_0x246afe(0x178)](){const _0x1a8eee=a0_0x246afe;this[_0x1a8eee(0x1cf)]=this['projectiles']['filter'](_0x798dcc=>{const _0x384223=_0x1a8eee;return _0x798dcc[_0x384223(0x173)](),_0x798dcc['x']>0x0&&_0x798dcc['x']<canvas[_0x384223(0x1b3)];});}[a0_0x246afe(0x183)](_0x5e3731){const _0x213e7e=a0_0x246afe;this[_0x213e7e(0x1cf)][_0x213e7e(0x1ac)](_0x206030=>_0x206030[_0x213e7e(0x1e6)](_0x5e3731));}}class Enemy{constructor(_0x3cf405,_0x5ef05a){const _0x5f2d0a=a0_0x246afe;this['x']=_0x3cf405,this['y']=_0x5ef05a,this['width']=0x20,this[_0x5f2d0a(0x1ea)]=0x20,this['speed']=0x2,this['sprite']=new Image(),this[_0x5f2d0a(0x176)][_0x5f2d0a(0x1f8)]=_0x5f2d0a(0x195),this[_0x5f2d0a(0x1be)]=0x0,this[_0x5f2d0a(0x1c1)]=0x7,this[_0x5f2d0a(0x1f2)]=0x0,this[_0x5f2d0a(0x1ed)]=0x64;}[a0_0x246afe(0x1e6)](){const _0x2ad218=a0_0x246afe;ctx[_0x2ad218(0x1bd)](this[_0x2ad218(0x176)],this['frameX']*this['width'],0x0,this['width'],this[_0x2ad218(0x1ea)],this['x'],this['y'],this[_0x2ad218(0x1b3)],this[_0x2ad218(0x1ea)]);}[a0_0x246afe(0x173)](_0x5ec443){const _0x407751=a0_0x246afe;this['x']-=this[_0x407751(0x17b)],this[_0x407751(0x1f2)]>this[_0x407751(0x1ed)]?(this['frameX']=(this[_0x407751(0x1be)]+0x1)%this[_0x407751(0x1c1)],this[_0x407751(0x1f2)]=0x0):this[_0x407751(0x1f2)]+=_0x5ec443;}}class AerialEnemy{constructor(_0x4e756c,_0x107747){const _0x4a07ce=a0_0x246afe;this['x']=_0x4e756c,this['y']=_0x107747,this[_0x4a07ce(0x1b3)]=0x28,this[_0x4a07ce(0x1ea)]=0x28,this[_0x4a07ce(0x17b)]=0x3,this[_0x4a07ce(0x176)]=new Image(),this['sprite'][_0x4a07ce(0x1f8)]=_0x4a07ce(0x1d3),this['frameX']=0x0,this['maxFrames']=0x4,this[_0x4a07ce(0x1f2)]=0x0,this[_0x4a07ce(0x1ed)]=0x64;}[a0_0x246afe(0x1e6)](){const _0x341cea=a0_0x246afe;ctx[_0x341cea(0x1bd)](this[_0x341cea(0x176)],this[_0x341cea(0x1be)]*this['width'],0x0,this[_0x341cea(0x1b3)],this[_0x341cea(0x1ea)],this['x'],this['y'],this[_0x341cea(0x1b3)],this[_0x341cea(0x1ea)]);}[a0_0x246afe(0x173)](_0x2c8246){const _0x2b9843=a0_0x246afe;this['x']-=this[_0x2b9843(0x17b)],this['y']+=Math[_0x2b9843(0x1c5)](this['x']*0.05)*0x2,this['frameTimer']>this['frameInterval']?(this[_0x2b9843(0x1be)]=(this['frameX']+0x1)%this[_0x2b9843(0x1c1)],this[_0x2b9843(0x1f2)]=0x0):this['frameTimer']+=_0x2c8246;}}class Projectile{constructor(_0xf322fd,_0x48fb48,_0x3cce6a,_0x258cd5){const _0x477efe=a0_0x246afe;this['x']=_0xf322fd,this['y']=_0x48fb48,this['width']=0xf,this['height']=0x5,this[_0x477efe(0x17b)]=_0x3cce6a,this[_0x477efe(0x1cb)]=_0x258cd5;}[a0_0x246afe(0x173)](){const _0x3a8cd6=a0_0x246afe;this['x']+=this[_0x3a8cd6(0x17b)]*this[_0x3a8cd6(0x1cb)];}[a0_0x246afe(0x1e6)](_0x54cb02){const _0x14fe36=a0_0x246afe;_0x54cb02[_0x14fe36(0x1a2)]=_0x14fe36(0x1de),_0x54cb02[_0x14fe36(0x1b8)](),_0x54cb02[_0x14fe36(0x1af)](this['x'],this['y'],0x3,0x0,Math['PI']*0x2),_0x54cb02[_0x14fe36(0x1a7)]();}}function showMessage(_0x35e55f){const _0x14c6fa=a0_0x246afe;messageQueue[_0x14c6fa(0x1c7)](_0x35e55f),!currentMessage&&displayNextMessage();}function displayNextMessage(){const _0x1d658d=a0_0x246afe;messageQueue[_0x1d658d(0x185)]>0x0?(currentMessage=messageQueue[_0x1d658d(0x1a6)](),messageTimer=MESSAGE_DURATION):currentMessage=null;}function drawMessage(){const _0x1cd58b=a0_0x246afe;currentMessage&&(ctx['save'](),ctx['fillStyle']=_0x1cd58b(0x1d7),ctx['fillRect'](0x0,canvas[_0x1cd58b(0x1ea)]/0x2-0x28,canvas[_0x1cd58b(0x1b3)],0x50),ctx[_0x1cd58b(0x1a2)]='white',ctx[_0x1cd58b(0x184)]=_0x1cd58b(0x1fc),ctx[_0x1cd58b(0x208)]=_0x1cd58b(0x1cd),ctx[_0x1cd58b(0x192)]=_0x1cd58b(0x186),ctx['fillText'](currentMessage,canvas['width']/0x2,canvas[_0x1cd58b(0x1ea)]/0x2),ctx['restore']());}function updateMessages(_0x387ce9){currentMessage&&(messageTimer-=_0x387ce9,messageTimer<=0x0&&displayNextMessage());}function init(){const _0x4b3c1a=a0_0x246afe;player=new Player(0x30,canvas[_0x4b3c1a(0x1ea)]-0x64,this),enemies=[],gameTime=0x0,score=0x0,level=0x1,backgroundStage=0x0,initStars(),updateHUD();}function startGame(){const _0x2b6ef1=a0_0x246afe;!gameStarted&&(playerName=document['getElementById'](_0x2b6ef1(0x1e9))[_0x2b6ef1(0x182)],playerName?(gameStarted=!![],document['getElementById'](_0x2b6ef1(0x1f0))['style'][_0x2b6ef1(0x199)]=_0x2b6ef1(0x1ff),document[_0x2b6ef1(0x18f)](_0x2b6ef1(0x198))[_0x2b6ef1(0x1b0)]['display']=_0x2b6ef1(0x1fb),init(),lastTime=performance[_0x2b6ef1(0x1b2)](),requestAnimationFrame(gameLoop)):alert(_0x2b6ef1(0x18a)));}let stars=[];function a0_0x3da7(){const _0x591da6=['ctx','score','moveRight','fps','info','addEventListener','fillStyle','success','stopMoving','game-canvas','shift','fill','min','1ygOBED','lastShotTime','./sprites/','forEach','jump','#1E3163','arc','style','5751347lvqsjd','now','width','gravity','level','ArrowLeft','Jugar\x20de\x20nuevo','beginPath','2283616EVPTsH','#1A1A1A','log','textContent','drawImage','frameX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','then','maxFrames','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','isConfirmed','#E6A47C','sin','27xPivtF','push','toISOString','POST','ArrowRight','direction','ArrowUp','center','jumpCount','projectiles','error','application/json','#87CEEB','./sprites/spirit.png','innerHTML','scores-body','filter','rgba(0,\x200,\x200,\x200.7)','splice','DOMContentLoaded','currentSprite','idle','random','#A8A0BC','yellow','max','join','#7895B2','catch','10119vKdJdG','velocityY','loadSprites','draw','time','attack','player-name','height','velocityX','map','frameInterval','Puntuación:\x20','white','start-screen','#1F1E33','frameTimer','fire','stringify','Ver\x20puntuaciones','player-form','#4A3F6B','src','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lineTo','block','24px\x20Arial','/save-score','run','none','attacking','keyup','game','submit','shoot','key','sprites','maxJumps','textAlign','#0C1445','Has\x20completado\x20el\x20juego\x20con\x20una\x20puntuación\x20perfecta.','Tiempo:\x20','toLocaleString','/get-scores','update','name','29009290tMCTTr','sprite','#9E7B72','updateProjectiles','1972772hMdFqM','shootCooldown','speed','¡Felicidades!','facingRight','5943535ZeRObW','createLinearGradient','Tu\x20puntuación\x20final\x20es:\x20','addColorStop','value','drawProjectiles','font','length','middle','#7B6B9E','Juego\x20terminado','floor','Por\x20favor,\x20ingresa\x20tu\x20nombre.','json','#B5E2FF','92bYSzMR','1440042WiyoWE','getElementById','Error:','jumpForce','textBaseline','#365486','fillRect','./sprites/enemy.png','getContext','¡Has\x20alcanzado\x20la\x20etapa\x20','game-container','display','.png','¡Has\x20alcanzado\x20el\x20nivel\x20'];a0_0x3da7=function(){return _0x591da6;};return a0_0x3da7();}const NUM_STARS=0x64;function initStars(){const _0x3f01db=a0_0x246afe;for(let _0x13232c=0x0;_0x13232c<NUM_STARS;_0x13232c++){stars['push']({'x':Math[_0x3f01db(0x1dc)]()*canvas['width'],'y':Math[_0x3f01db(0x1dc)]()*(canvas[_0x3f01db(0x1ea)]-0x46),'size':Math['random']()*0x2,'speed':Math[_0x3f01db(0x1dc)]()*0.2});}}function drawBackground(){const _0x57f25a=a0_0x246afe;let _0x3a40d1;switch(backgroundStage){case 0x0:_0x3a40d1=ctx[_0x57f25a(0x17f)](0x0,0x0,0x0,canvas[_0x57f25a(0x1ea)]),_0x3a40d1[_0x57f25a(0x181)](0x0,_0x57f25a(0x209)),_0x3a40d1[_0x57f25a(0x181)](0.3,_0x57f25a(0x1ae)),_0x3a40d1[_0x57f25a(0x181)](0.6,_0x57f25a(0x193)),_0x3a40d1[_0x57f25a(0x181)](0x1,_0x57f25a(0x1e1));break;case 0x1:_0x3a40d1=ctx['createLinearGradient'](0x0,0x0,0x0,canvas[_0x57f25a(0x1ea)]),_0x3a40d1[_0x57f25a(0x181)](0x0,_0x57f25a(0x1f1)),_0x3a40d1['addColorStop'](0.3,_0x57f25a(0x1f7)),_0x3a40d1[_0x57f25a(0x181)](0.6,_0x57f25a(0x187)),_0x3a40d1[_0x57f25a(0x181)](0x1,_0x57f25a(0x1dd));break;case 0x2:_0x3a40d1=ctx[_0x57f25a(0x17f)](0x0,0x0,0x0,canvas[_0x57f25a(0x1ea)]),_0x3a40d1[_0x57f25a(0x181)](0x0,_0x57f25a(0x1f7)),_0x3a40d1[_0x57f25a(0x181)](0.3,_0x57f25a(0x177)),_0x3a40d1['addColorStop'](0.6,_0x57f25a(0x1c4)),_0x3a40d1[_0x57f25a(0x181)](0x1,'#F6D4BA');break;case 0x3:_0x3a40d1=ctx[_0x57f25a(0x17f)](0x0,0x0,0x0,canvas[_0x57f25a(0x1ea)]),_0x3a40d1[_0x57f25a(0x181)](0x0,_0x57f25a(0x1d2)),_0x3a40d1[_0x57f25a(0x181)](0.3,_0x57f25a(0x18c)),_0x3a40d1[_0x57f25a(0x181)](0.6,'#FFEED4'),_0x3a40d1[_0x57f25a(0x181)](0x1,'#FFF9E8');break;}ctx[_0x57f25a(0x1a2)]=_0x3a40d1,ctx[_0x57f25a(0x194)](0x0,0x0,canvas[_0x57f25a(0x1b3)],canvas[_0x57f25a(0x1ea)]),backgroundStage<0x2&&drawStars(),backgroundStage>=0x2&&drawSun(),drawGrass();}function drawSun(){const _0x194c01=a0_0x246afe;ctx[_0x194c01(0x1a2)]='#FFD700',ctx[_0x194c01(0x1b8)](),ctx[_0x194c01(0x1af)](canvas[_0x194c01(0x1b3)]*0.8,canvas[_0x194c01(0x1ea)]*0.2,0x28,0x0,Math['PI']*0x2),ctx[_0x194c01(0x1a7)]();}function drawStars(){const _0x2f6423=a0_0x246afe;ctx[_0x2f6423(0x1a2)]=_0x2f6423(0x1ef),stars['forEach'](_0x4bf24b=>{const _0x10192a=_0x2f6423;ctx[_0x10192a(0x194)](_0x4bf24b['x'],_0x4bf24b['y'],_0x4bf24b['size'],_0x4bf24b['size']),_0x4bf24b['x']-=_0x4bf24b[_0x10192a(0x17b)],_0x4bf24b['x']<0x0&&(_0x4bf24b['x']=canvas['width'],_0x4bf24b['y']=Math[_0x10192a(0x1dc)]()*(canvas['height']-0x46));});}function drawGrass(){const _0x3c1562=a0_0x246afe,_0x5ef2be=0x14,_0x1aa5fd=0x32;ctx['fillStyle']=_0x3c1562(0x1ba),ctx[_0x3c1562(0x194)](0x0,canvas[_0x3c1562(0x1ea)]-_0x1aa5fd,canvas[_0x3c1562(0x1b3)],_0x1aa5fd),ctx[_0x3c1562(0x1a2)]='#0A4D0A';for(let _0x4a0284=0x0;_0x4a0284<canvas[_0x3c1562(0x1b3)];_0x4a0284+=0x4){const _0x9fdc35=_0x5ef2be+Math[_0x3c1562(0x1dc)]()*0xa;ctx[_0x3c1562(0x1b8)](),ctx['moveTo'](_0x4a0284,canvas[_0x3c1562(0x1ea)]-_0x1aa5fd),ctx[_0x3c1562(0x1fa)](_0x4a0284+0x2,canvas[_0x3c1562(0x1ea)]-_0x1aa5fd-_0x9fdc35),ctx[_0x3c1562(0x1fa)](_0x4a0284+0x4,canvas[_0x3c1562(0x1ea)]-_0x1aa5fd),ctx['fill']();}}function updateHUD(){const _0x5dc5a1=a0_0x246afe;document[_0x5dc5a1(0x18f)](_0x5dc5a1(0x1e7))[_0x5dc5a1(0x1bc)]=_0x5dc5a1(0x20b)+Math[_0x5dc5a1(0x189)](gameTime/0x3e8),document[_0x5dc5a1(0x18f)](_0x5dc5a1(0x19d))[_0x5dc5a1(0x1bc)]=_0x5dc5a1(0x1ee)+score,document['getElementById'](_0x5dc5a1(0x1b5))[_0x5dc5a1(0x1bc)]='Nivel:\x20'+level;}function gameLoop(_0x46dcd6){const _0x51330a=a0_0x246afe;let _0xef0b20=_0x46dcd6-lastTime;lastTime=_0x46dcd6,ctx['clearRect'](0x0,0x0,canvas[_0x51330a(0x1b3)],canvas[_0x51330a(0x1ea)]),drawBackground(),player['update'](_0xef0b20),player[_0x51330a(0x178)](),player['draw'](ctx),player[_0x51330a(0x183)](ctx),checkProjectileCollisions(),Math[_0x51330a(0x1dc)]()<0.02&&enemies['push'](new Enemy(canvas[_0x51330a(0x1b3)],canvas['height']-0x52)),score>0xa&&_0x46dcd6-lastAerialEnemyTime>aerialEnemyInterval&&(aerialEnemies[_0x51330a(0x1c7)](new AerialEnemy(canvas['width'],Math['random']()*(canvas[_0x51330a(0x1ea)]/0x2))),lastAerialEnemyTime=_0x46dcd6),enemies=enemies[_0x51330a(0x1d6)](_0x42937a=>{const _0x356cc0=_0x51330a;return _0x42937a[_0x356cc0(0x173)](_0xef0b20),_0x42937a[_0x356cc0(0x1e6)](),_0x42937a['x']+_0x42937a[_0x356cc0(0x1b3)]>0x0;}),aerialEnemies=aerialEnemies[_0x51330a(0x1d6)](_0x57472d=>{const _0x1061d2=_0x51330a;return _0x57472d[_0x1061d2(0x173)](_0xef0b20),_0x57472d[_0x1061d2(0x1e6)](),_0x57472d['x']+_0x57472d[_0x1061d2(0x1b3)]>0x0;}),checkCollisions(),gameTime+=_0xef0b20,updateHUD(),checkLevel(),updateMessages(_0xef0b20),drawMessage(),gameStarted&&requestAnimationFrame(gameLoop);}function checkProjectileCollisions(){const _0x2b2530=a0_0x246afe;player[_0x2b2530(0x1cf)][_0x2b2530(0x1ac)]((_0x21658f,_0x137070)=>{const _0x44c637=_0x2b2530;enemies[_0x44c637(0x1ac)]((_0x1c2eb2,_0x22188a)=>{const _0x84e586=_0x44c637;checkCollision(_0x21658f,_0x1c2eb2)&&(player[_0x84e586(0x1cf)][_0x84e586(0x1d8)](_0x137070,0x1),enemies[_0x84e586(0x1d8)](_0x22188a,0x1),score+=0xa);}),aerialEnemies[_0x44c637(0x1ac)]((_0x28861a,_0x3b381e)=>{const _0x43435d=_0x44c637;checkCollision(_0x21658f,_0x28861a)&&(player[_0x43435d(0x1cf)]['splice'](_0x137070,0x1),aerialEnemies[_0x43435d(0x1d8)](_0x3b381e,0x1),score+=0xf);});});}function checkCollisions(){const _0x363de2=a0_0x246afe;enemies['forEach']((_0x159533,_0x455833)=>{const _0x5e0d29=a0_0x2477;checkCollision(player,_0x159533)&&(player[_0x5e0d29(0x200)]||player['y']+player[_0x5e0d29(0x1ea)]<_0x159533['y']+_0x159533[_0x5e0d29(0x1ea)]/0x2?(enemies['splice'](_0x455833,0x1),score+=0xa):endGame());}),aerialEnemies[_0x363de2(0x1ac)]((_0xd51464,_0xfcea47)=>{checkCollision(player,_0xd51464)&&(aerialEnemies['splice'](_0xfcea47,0x1),endGame());});}function checkCollision(_0x3383b1,_0x3c26b0){const _0x481acd=a0_0x246afe;return _0x3383b1['x']<_0x3c26b0['x']+_0x3c26b0[_0x481acd(0x1b3)]&&_0x3383b1['x']+_0x3383b1[_0x481acd(0x1b3)]>_0x3c26b0['x']&&_0x3383b1['y']<_0x3c26b0['y']+_0x3c26b0[_0x481acd(0x1ea)]&&_0x3383b1['y']+_0x3383b1[_0x481acd(0x1ea)]>_0x3c26b0['y'];}function checkLevel(){const _0x98a606=a0_0x246afe;score>=level*0x64&&(level++,enemies[_0x98a606(0x1ac)](_0x20b612=>_0x20b612[_0x98a606(0x17b)]+=0.5),aerialEnemies[_0x98a606(0x1ac)](_0x4deae7=>_0x4deae7[_0x98a606(0x17b)]+=0.5),showMessage(_0x98a606(0x19b)+level+'!'),aerialEnemyInterval=Math[_0x98a606(0x1df)](0x3e8,aerialEnemyInterval-0x1f4));let _0x58a807=Math['min'](Math['floor'](score/POINTS_PER_STAGE),0x3);_0x58a807!==backgroundStage&&(backgroundStage=_0x58a807,showMessage(_0x98a606(0x197)+(backgroundStage+0x1)+'!')),score>=MAX_SCORE&&!gameCompleted&&(gameCompleted=!![],showGameCompletionMessage());}function showGameCompletionMessage(){const _0x2e20cc=a0_0x246afe;gameStarted=![],Swal[_0x2e20cc(0x1f3)]({'title':_0x2e20cc(0x17c),'text':_0x2e20cc(0x20a),'icon':_0x2e20cc(0x1a3),'confirmButtonText':_0x2e20cc(0x1b7)})[_0x2e20cc(0x1c0)](_0x5cffb4=>{const _0x33e79d=_0x2e20cc;_0x5cffb4[_0x33e79d(0x1c3)]&&(resetGame(),startGame());});}function endGame(){const _0x368aaf=a0_0x246afe;gameStarted=![],Swal[_0x368aaf(0x1f3)]({'title':_0x368aaf(0x188),'text':_0x368aaf(0x180)+score,'icon':_0x368aaf(0x1a0),'confirmButtonText':_0x368aaf(0x1f5)})[_0x368aaf(0x1c0)](_0x1f66e0=>{const _0x54b5d1=_0x368aaf;_0x1f66e0['isConfirmed']&&(saveScore(playerName,score,new Date()[_0x54b5d1(0x1c8)]()),showResults());});}function saveScore(_0x32b604,_0x3e7052,_0x586227){const _0x32bd63=a0_0x246afe;fetch(_0x32bd63(0x1fd),{'method':_0x32bd63(0x1c9),'headers':{'Content-Type':_0x32bd63(0x1d1)},'body':JSON[_0x32bd63(0x1f4)]({'name':_0x32b604,'score':_0x3e7052,'date':_0x586227})})['then'](_0x3213ef=>_0x3213ef[_0x32bd63(0x18b)]())[_0x32bd63(0x1c0)](_0x2ec6ea=>console[_0x32bd63(0x1bb)]('Score\x20saved:',_0x2ec6ea))[_0x32bd63(0x1e2)](_0x13178c=>console[_0x32bd63(0x1d0)](_0x32bd63(0x190),_0x13178c));}function showResults(){const _0x12b665=a0_0x246afe;document[_0x12b665(0x18f)](_0x12b665(0x198))[_0x12b665(0x1b0)][_0x12b665(0x199)]=_0x12b665(0x1ff),document['getElementById'](_0x12b665(0x1f0))[_0x12b665(0x1b0)][_0x12b665(0x199)]=_0x12b665(0x1fb),fetchResults();}function fetchResults(){const _0x4f642b=a0_0x246afe;fetch(_0x4f642b(0x20d))['then'](_0x32e90f=>_0x32e90f['json']())[_0x4f642b(0x1c0)](_0x4be840=>{const _0x39b019=_0x4f642b,_0x34e8dd=document[_0x39b019(0x18f)](_0x39b019(0x1d5));_0x34e8dd[_0x39b019(0x1d4)]=_0x4be840[_0x39b019(0x1ec)](_0x4d3a99=>_0x39b019(0x1bf)+_0x4d3a99[_0x39b019(0x174)]+_0x39b019(0x1c2)+_0x4d3a99[_0x39b019(0x19d)]+_0x39b019(0x1c2)+new Date(_0x4d3a99['date'])[_0x39b019(0x20c)]()+_0x39b019(0x1f9))[_0x39b019(0x1e0)]('');})[_0x4f642b(0x1e2)](_0xb57e2f=>console[_0x4f642b(0x1d0)](_0x4f642b(0x190),_0xb57e2f));}function a0_0x2477(_0x573944,_0x139510){const _0x3da757=a0_0x3da7();return a0_0x2477=function(_0x247717,_0x5363b4){_0x247717=_0x247717-0x173;let _0x24c4aa=_0x3da757[_0x247717];return _0x24c4aa;},a0_0x2477(_0x573944,_0x139510);}document[a0_0x246afe(0x18f)](a0_0x246afe(0x1f6))[a0_0x246afe(0x1a1)](a0_0x246afe(0x203),function(_0x260aa3){_0x260aa3['preventDefault'](),startGame();}),document[a0_0x246afe(0x1a1)]('keydown',_0x13986f=>{const _0x5a45a0=a0_0x246afe;if(!gameStarted)return;switch(_0x13986f['key']){case _0x5a45a0(0x1b6):player[_0x5a45a0(0x1eb)]=-player[_0x5a45a0(0x17b)],player[_0x5a45a0(0x1da)]=_0x5a45a0(0x1fe);break;case _0x5a45a0(0x1ca):player[_0x5a45a0(0x1eb)]=player[_0x5a45a0(0x17b)],player[_0x5a45a0(0x1da)]='run';break;case _0x5a45a0(0x1cc):case'\x20':player[_0x5a45a0(0x1ad)]();break;case'z':player[_0x5a45a0(0x1e8)]();break;case'x':player[_0x5a45a0(0x204)]();break;}}),document['addEventListener'](a0_0x246afe(0x201),_0x1a9997=>{const _0x281cc2=a0_0x246afe;if(!gameStarted)return;(_0x1a9997['key']==='ArrowLeft'||_0x1a9997[_0x281cc2(0x205)]===_0x281cc2(0x1ca))&&(player['velocityX']=0x0,player['currentSprite']=_0x281cc2(0x1db));}),document[a0_0x246afe(0x1a1)](a0_0x246afe(0x1d9),fetchResults);